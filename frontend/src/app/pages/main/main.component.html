<div class="main-layout">
  <app-header 
    (newChatClicked)="onNewChat()"
    (searchChanged)="onSearchChanged($event)"
  ></app-header>

  <div class="content-wrapper" [class.chat-open]="hasSelectedChat">
    <app-sidebar 
      class="sidebar-container"
      [class.sidebar-hidden]="hasSelectedChat"
      [searchTerm]="searchTerm"
    ></app-sidebar>

    <main class="main-content">
      <!-- Show Chat View when a chat is selected -->
      <app-chat-view *ngIf="hasSelectedChat"></app-chat-view>
      
      <!-- Show Create New Chat when no chat is selected -->
      <app-create-new-chat *ngIf="!hasSelectedChat"></app-create-new-chat>
    </main>
  </div>
</div>
